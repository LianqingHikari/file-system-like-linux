# 类linux的文件系统

本项目为2021年华南理工大学计算机科学与工程学院操作系统课程设计。基本的思路为：构建一个100MB的文本文档，其中内容全为文本“0”，以此模仿硬盘，并在此基础上构建文件系统。

## 登录

存在两个账号：

- 系统用户，账号：123，密码：123
- 普通用户，账号：321，密码：321

## 指令

指令的具体格式参见实验报告：1.1.3 基本功能函数部分

## 硬盘

- ./Shell/HardDisk.txt文件为硬盘
- ./Shell/HardDiskBackup.txt为未初始化硬盘的备份（全为0）

为了测试的方便，在启动Simdisk的时候会将硬盘进行初始化，如果需要保存文件，请在./Shell/Shell.cpp文件的main函数开头将Init()函数注释掉。（文件太大传不上去）如要进行测试，请自行创建HardDisk.txt及HardDiskBackup.txt文件，文件包含若干个0，其大小均为100MB

## 测试

测试时应先将Simdisk打开，再打开Shell。经测试，本文件系统对于一般的指令错误均可识别，但仍可能存在一些边缘情况无法识别而导致系统错误，请不要故意刁难它(⊙﹏⊙)。如遇问题，可将HardDisk.txt文件删除，并将HardDiskBackup.txt重命名为HardDisk.txt以物理初始化硬盘

## 互斥写

由于实际上写入的时间较短，可能无法观察到互斥写的现象，可以在./Shell/Shell.cpp文件中main函数中write部分的“写时延迟”部分中将“//Sleep(10000);”消除注释，这样即有10s的写时延迟，可以较好地观测到互斥写现象
